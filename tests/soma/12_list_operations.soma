) ============================================================================
) List Operations Tests
) Testing list.length, list.fold, list.append, list.filter
) ============================================================================

) ==================== list.length Tests ====================

) TEST: Length of empty list
) EXPECT_AL: [True]
Nil >list.length 0 >==

) TEST: Length of single element list
) EXPECT_AL: [True]
5 Nil >list.cons >list.length 1 >==

) TEST: Length of multi-element list
) EXPECT_AL: [True]
Void 1 2 3 >list.from_al >list.length 3 >==

) TEST: Length of longer list
) EXPECT_AL: [True]
Void 1 2 3 4 5 >list.from_al >list.length 5 >==

) ==================== list.fold Tests ====================

) TEST: Fold empty list returns init
) EXPECT_AL: [True]
{ >+ } 0 Nil >list.fold 0 >==

) TEST: Fold sum of list
) EXPECT_AL: [True]
Void 1 2 3 4 5 >list.from_al !test_list
{ >+ } 0 test_list >list.fold 15 >==

) TEST: Fold product of list
) EXPECT_AL: [True]
Void 2 3 4 >list.from_al !test_list
{ >* } 1 test_list >list.fold 24 >==

) TEST: Fold single element
) EXPECT_AL: [True]
Void 5 >list.from_al !test_list
{ >+ } 10 test_list >list.fold 15 >==

) TEST: Fold to reverse (demonstrates fold flexibility)
) EXPECT_AL: [True, True, True]
Void 1 2 3 >list.from_al !test_list
{ >swap >list.cons } Nil test_list >list.fold
!result
result.value 3 >==
result.next.value 2 >==
result.next.next.value 1 >==

) ==================== list.append Tests ====================

) TEST: Append empty to empty
) EXPECT_AL: [True]
Nil Nil >list.append >isNil

) TEST: Append list to empty
) EXPECT_AL: [True, True]
Void 4 5 >list.from_al !list2
Nil list2 >list.append
!result
result.value 4 >==
result.next.value 5 >==

) TEST: Append empty to list
) EXPECT_AL: [True, True]
Void 1 2 >list.from_al !list1
list1 Nil >list.append
!result
result.value 1 >==
result.next.value 2 >==

) TEST: Append two lists
) EXPECT_AL: [True, True, True, True]
Void 1 2 >list.from_al !list1
Void 3 4 >list.from_al !list2
list1 list2 >list.append
!result
result.value 1 >==
result.next.value 2 >==
result.next.next.value 3 >==
result.next.next.next.value 4 >==

) TEST: Append preserves order and length
) EXPECT_AL: [True]
Void 1 2 3 >list.from_al !list1
Void 4 5 6 >list.from_al !list2
list1 list2 >list.append
>list.length 6 >==

) ==================== list.filter Tests ====================

) TEST: Filter empty list
) EXPECT_AL: [True]
{ >drop True } Nil >list.filter >isNil

) TEST: Filter keep all
) EXPECT_AL: [True]
Void 1 2 3 >list.from_al !test_list
{ >drop True } test_list >list.filter
>list.length 3 >==

) TEST: Filter keep none
) EXPECT_AL: [True]
Void 1 2 3 >list.from_al !test_list
{ >drop False } test_list >list.filter >isNil

) TEST: Filter keep evens
) EXPECT_AL: [True, True]
Void 1 2 3 4 5 6 >list.from_al !test_list
{ 2 >% 0 >== } test_list >list.filter
!result
result >list.length 3 >==
result.value 2 >==

) TEST: Filter keep values less than 4
) EXPECT_AL: [True, True, True, True]
Void 1 2 3 4 5 >list.from_al !test_list
{ 4 >< } test_list >list.filter
!result
result >list.length 3 >==
result.value 1 >==
result.next.value 2 >==
result.next.next.value 3 >==

) TEST: Filter single matching element
) EXPECT_AL: [True, True]
Void 1 5 3 >list.from_al !test_list
{ 5 >== } test_list >list.filter
!result
result >list.length 1 >==
result.value 5 >==

